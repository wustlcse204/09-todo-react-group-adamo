{"version":3,"sources":["Todo.js","NewTodo.js","App.js","index.js"],"names":["Todo","react_default","a","createElement","id","className","this","props","text","Component","NewTodo","onSubmit","addTodo","xhttp","XMLHttpRequest","App","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","todos","setState","type","onClick","onKeyDown","handleKeyDown","placeholder","class","value","src_NewTodo_0","createItem","map","todo","src_Todo_0","key","src","_this2","fetch","method","headers","Headers","Content-Type","x-api-key","then","response","json","data","catch","err","console","error","apiCall","log","componentWillUpdate","bind","document","removeEventListener","deleteItem","toOrder","sort","b","localeCompare","ignorePunctions","React","addItem","inputText","getElementById","onreadystatechange","readyState","status","JSON","parse","responseText","open","setRequestHeader","send","stringify","item","itemTask","completeTask","innerText","addEventListener","markCompleted","taskTitle","createTextNode","deleteTask","appendChild","completed","classList","add","parentNode","style","textDecoration","remove","event","itemsList","i","length","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.1d7a231e.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Todo.css';\n\nclass Todo extends Component {\n  render() {\n    return (\n      <article id = \"{this.props.id}\" className=\"todo\">\n            <h2><button className=\"finish\"> </button> </h2>\n            <p>{this.props.text}</p>\n      </article>\n    );\n  }\n}\n\nexport default Todo;\n","\nimport React, { Component } from 'react';\nimport './NewTodo.css';\n\nclass NewTodo extends Component {\n  \n  render() {\n\n    return (\n      <form className=\"newtodo\" onSubmit = {this.props.addTodo}>\n        <h2><button className=\"finish\" > </button> Sort</h2>\n      </form>\n    );\n  }\n}\n\nexport default NewTodo;\n","import React, { Component } from 'react';\nimport './App.css';\nimport Todo from './Todo';\nimport NewTodo from './NewTodo';\nimport ReactDom from 'react-dom';\n\nvar xhttp = new XMLHttpRequest();\nfunction loadAPI() {\n  xhttp.onreadystatechange = function() {\n      if (this.readyState == 4 && this.status == 200) {\n          var itemsList = JSON.parse(this.responseText);\n          for (let i=0; i<itemsList.length; i++) {\n              createItem(itemsList[i]);\n          }\n      }\n  }\n\n  xhttp.open(\"GET\", \"https://cse204.work/todos\", true);\n  xhttp.setRequestHeader(\"x-api-key\",\"ea8ab2-ab5cb1-9254fd-35e967-531f0c\");\n  xhttp.send();\n}\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { todos: []}\n  }\n  updateTodo() {\n    this.setState({todos: new NewTodo()})\n  }\n  render() {\n    return (\n      <section id = \"todos\">\n       \n    \n      <div className=\"app\">\n        <h1>Adam Oubaita ToDo App</h1>\n        \n\n        <input type=\"text\" onClick=\"componentWillUpdate()\" onKeyDown={this.handleKeyDown} id=\"new-task\" placeholder=\"Complete\"></input> \n        <input type=\"button\" onClick=\"componentDidMount()\" onKeyDown={this.handleKeyDown} id=\"add-item-button\" class = \"add-item-button\" value =\"Add\"></input>\n        <section id = \"newtodos\"> </section>\n        <NewTodo  createItem = {this.createItem}/>\n        {this.state.todos.map((todo)=> <Todo key = {todo.id} text = {todo.text} />)}   \n\n        <script src = \"NewTodo.js\"></script>\n        <ul id=\"tasks-list\">\n\n        </ul>\n        \n      </div>\n      \n      </section>\n    );\n    \n  }\n\n  apiCall() {\n      fetch(\"https://cse204.work/todos/\", {method: 'GET', \n      headers: new Headers({'Content-Type':\n      'application/json', \"x-api-key\": \"ea8ab2-ab5cb1-9254fd-35e967-531f0c\"})\n  })\n    .then(response => response.json())\n    .then(data=> {\n      this.setState= data;\n    })\n    .catch((err =>console.error(err))\n    )\n  }\n\n  componentDidMount() {\n    //api call\n    this.apiCall();\n    console.log('componentDidMount() lifecycle');\n    this.componentWillUpdate.bind(this);\n    }\n  \n  componentWillUnmount() {\n    document.removeEventListener(\"click\", deleteItem);\n  }\n\n  componentWillUpdate() {\n    const toOrder= this.state.todos\n    toOrder.sort((a,b)=> a.localeCompare(b,'fr',{ignorePunctions: true})); \n    this.setState({todos: toOrder});\n  }\n  \n}\n\nfunction addItem()   \n{\n    var inputText = {text: document.getElementById(\"new-task\").value};\n   \n    var xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function() {\n        if (this.readyState == 4 && this.status == 200) {\n            createItem(JSON.parse(this.responseText));\n        } \n        else if (this.readyState == 4) {\n            console.log(this.responseText);\n        }\n    };\n    xhttp.open(\"POST\", \"https://cse204.work/todos\", true);\n    xhttp.setRequestHeader(\"Content-type\", \"application/json\");\n    xhttp.setRequestHeader(\"x-api-key\", \"ea8ab2-ab5cb1-9254fd-35e967-531f0c\");\n    xhttp.send(JSON.stringify(inputText));\n}\ndocument.addEventListener(\"DOMContentLoaded\", function(event) {\n  loadAPI();\n  document.getElementById(\"add-item-button\").addEventListener(\"click\", addItem);\n})\n\nfunction createItem(item){\n\n  var id = item.id;\n  var text = item.text;\n  var itemTask = document.createElement(\"li\");\n\n  var completeTask = document.createElement(\"button\");\n  completeTask.innerText=\"Mark as Complete\";\n  completeTask.addEventListener(\"click\", markCompleted);\n\n  var taskTitle = document.createTextNode(text);\n\n  var deleteTask = document.createElement(\"button\");\n  deleteTask.innerText = \"Delete\";\n  deleteTask.addEventListener(\"click\", deleteItem);\n  \n  itemTask.id = id;\n  document.getElementById(\"tasks-list\").appendChild(itemTask);\n  if (item.completed == true) {\n      itemTask.classList.add(\"completed\");\n  }\n\n  \n\n  itemTask.appendChild(taskTitle);\n  itemTask.appendChild(completeTask);\n\n  itemTask.appendChild(deleteTask);     \n}\n\nfunction markCompleted() {\n  var item = {completed: true}\n  var id = this.parentNode.id;\n\n  var xhttp = new XMLHttpRequest();\n  xhttp.onreadystatechange = function() {\n      if (this.readyState == 4 && this.status == 200) {\n          document.getElementById(id).style.textDecoration=\"line-through\";\n      } \n      else if (this.readyState == 4) {\n          console.log(this.responseText);\n      }\n  };   \n  xhttp.open(\"PUT\", \"https://cse204.work/todos/\"+id, true);\n  xhttp.setRequestHeader(\"Content-type\", \"application/json\");\n  xhttp.setRequestHeader(\"x-api-key\", \"ea8ab2-ab5cb1-9254fd-35e967-531f0c\");\n  xhttp.send(JSON.stringify(item));\n}\n\nfunction deleteItem() {\n  var id = this.parentNode.id;\n\n  var xhttp = new XMLHttpRequest();\n  xhttp.onreadystatechange = function() {\n      if (this.readyState == 4 && this.status == 200) {\n          document.getElementById(id).remove();\n      }  \n      else if (this.readyState == 4) {\n          console.log(this.responseText);\n      }\n  };\n  xhttp.open(\"DELETE\", \"https://cse204.work/todos/\"+id, true);\n  xhttp.setRequestHeader(\"Content-type\", \"application/json\");\n  xhttp.setRequestHeader(\"x-api-key\", \"ea8ab2-ab5cb1-9254fd-35e967-531f0c\");\n  xhttp.send();\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}